<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a><ul>
<li><a href="#quick-example">Quick Example</a></li>
</ul></li>
<li><a href="#download">Download</a><ul>
<li><a href="#maven-repository-artifacts">Maven Repository Artifacts</a></li>
</ul></li>
<li><a href="#documentation">Documentation</a><ul>
<li><a href="#configure-lsql">Configure LSql</a></li>
<li><a href="#row-class">Row Class</a></li>
<li><a href="#crud-operations">CRUD Operations</a><ul>
<li><a href="#insert">Insert</a></li>
<li><a href="#read">Read</a></li>
<li><a href="#update">Update</a></li>
<li><a href="#delete">Delete</a></li>
</ul></li>
<li><a href="#queries">Queries</a><ul>
<li><a href="#simple-raw-queries">Simple Raw Queries</a></li>
<li><a href="#named-queries">Named Queries</a></li>
<li><a href="#section"></a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h1 id="introduction">Introduction</h1>
<p>LSql (Literate SQL) is a pragmatic Java database access library on top of JDBC.</p>
<p>Our philosophy:</p>
<ul>
<li><p>LSql is <em>not</em> yet another object/relational mapper. We believe that functional application data (in particular stored in a relational model) should not be mapped to a strict classes/objects model. Every time a programmer creates a new class (even a simple POJO), it will be incompatible with existing API, whereas using well-known classes like Maps, Lists, etc. enables access to amazing libraries like <a href="http://code.google.com/p/guava-libraries/wiki/CollectionUtilitiesExplained">Google Guava</a>.</p></li>
<li><p>All data gets mapped to <code>com.w11k.lsql.Row</code> (which is a subclass of <code>java.util.Map</code>) and <code>java.util.List</code>. You can specify table-specific subclasses of <code>com.w11k.lsql.Row</code> to use your own domain classes, where useful.</p></li>
<li><p>It is not important to use SQL databases in a vendor-agnostic way. The RDBMS should be choosen (once) depending on the project requirements and database access libraries should not try to hide their characteristics.</p></li>
<li><p>Software architectures currently shift towards rich browser and stand-alone application. The main responsibility for server code will be to query and return the stored data as quickly as possible and to serialize, maybe even intentionally denormalized, views as JSON string. Traditional Java persistence frameworks, based on the concept of handling all tasks within the server process (including HTML rendering), are less suitable for those environments.</p></li>
</ul>
<h2 id="quick-example">Quick Example</h2>
<p>Assume the following DDL:</p>
<pre class="language-sql"><code>CREATE TABLE person (
    id SERIAL PRIMARY KEY, -- auto increment primary key
    name TEXT,
    age INT
);</code></pre>
<p>LSql Java code:</p>
<pre class="language-java"><code>DataSource dataSource = ...;
LSql lsql = new LSql(new H2Dialect(), dataSource);

// Create a new person
Row john = new Row();
john.put(&quot;name&quot;, &quot;John&quot;);
john.put(&quot;age&quot;, 20);

// Insert the new person
Table personTable = lsql.table(&quot;person&quot;);
personTable.insert(john);

// The generated ID is automatically put into the row object
Object newId = john.get(&quot;id&quot;);

// Use the ID to load the row, returns com.google.common.base.Optional
Optional&lt;QueriedRow&gt; queried = personTable.get(newId);
QueriedRow queriedJohn = queried.get();

assert queriedJohn.getString(&quot;name&quot;).equals(&quot;John&quot;);
assert queriedJohn.getInt(&quot;age&quot;) == 20;</code></pre>
<h1 id="download">Download</h1>
<h2 id="maven-repository-artifacts">Maven Repository Artifacts</h2>
<p>All released files are stored in a Maven repository:</p>
<pre class="language-xml"><code>&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;lsql-repo&lt;/id&gt;
        &lt;name&gt;w11k Repository&lt;/name&gt;
        &lt;url&gt;http://mvn.w11k.com/releases&lt;/url&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;</code></pre>
<p>Add the following dependency to your POM. The latest version number can always be found here:</p>
<p><a href="https://raw.github.com/weiglewilczek/lsql/master/LATEST_RELEASED_VERSION">Latest Released Version</a></p>
<pre class="language-xml"><code>&lt;dependency&gt;
    &lt;groupId&gt;com.w11k.lsql&lt;/groupId&gt;
    &lt;artifactId&gt;lsql-core&lt;/artifactId&gt;
    &lt;version&gt;{{see link above for the latest version}} &lt;/version&gt;
&lt;/dependency&gt;</code></pre>
<h1 id="documentation">Documentation</h1>
<h2 id="configure-lsql">Configure LSql</h2>
<h2 id="row-class">Row Class</h2>
<h2 id="crud-operations">CRUD Operations</h2>
<h3 id="insert">Insert</h3>
<h3 id="read">Read</h3>
<h3 id="update">Update</h3>
<h3 id="delete">Delete</h3>
<h2 id="queries">Queries</h2>
<h3 id="simple-raw-queries">Simple Raw Queries</h3>
<h3 id="named-queries">Named Queries</h3>
<h3 id="section"></h3>
</body>
</html>
